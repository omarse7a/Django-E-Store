<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-Store</title>
    {% load static %}
    {% load bootstrap5 %}
    {% load bootstrap_icons %}
    {% bootstrap_css %}
    {% bootstrap_javascript %}
    <link rel="stylesheet" href="{% static 'products/css/product_list.css' %}">
<body>
  <!-- navbar -->
    <nav class="navbar navbar-expand-lg bg-dark navbar-dark py-3">
        <div class="container">

          <a class="navbar-brand" href="{% url 'index' %}">E-Store</a>

          <button class="navbar-toggler ms-auto" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNavDropdown">
            <ul class="navbar-nav">

              <li class="nav-item px-2 px-lg-3">
                <a class="nav-link" href="{% url 'index' %}">Home</a>
              </li>

              <li class="nav-item dropdown px-2 px-lg-3">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  Category
                </a>
                <ul class="dropdown-menu dropmenu">
                  {% for category in categories %}
                  <li>
                    <a class="dropdown-item" href="{% url 'products' category.cat_name %}">{{category.cat_name | capfirst}}</a>
                  </li>
                  {% endfor %}
                </ul>
              </li>

            </ul>

            <form class="d-flex my-3 my-lg-0 px-2 px-lg-3" role="search">
                <input class="form-control me-2 search-inp" type="search" placeholder="Search" aria-label="Search">
                <button class="btn btn-outline-light" type="submit">{% bs_icon 'search' %}</button>
            </form>

          </div>

          <ul class="navbar-nav d-flex flex-row ">
            <li class="nav-item px-2 px-lg-3">
                <a href="#" class="nav-link" aria-label="Wish List">{% bs_icon 'heart' size='1.5em' %}</a>
            </li>
            <li class="nav-item px-2 px-lg-3">
                <a href="#" class="nav-link" aria-label="Shopping Bag">{% bs_icon 'bag' size='1.5em' %}</a>
            </li>
          </ul>

        </div>
      </nav>

      <!-- products section -->
      <section class="p-5 bg-dark text-light">
        <div class="container">
          <h1 class="text-center mb-5">{% bs_icon 'dash-lg' size='1.5em' %} {{selected_cat | capfirst}} {% bs_icon 'dash-lg' size='1.5em' %}</h1>
          <div class="row g-5">
            
            {% for product in products %}
            <div class="col-lg-4 col-md-6">
              <a href="#" class="link-offset-2 link-underline link-underline-opacity-0 text-light">
                <div class="my-card">
                  <img src="{{product.main_image.url}}" class="card-img-top img-fluid" alt="product-img">
                  <p class="lead py-3">{{product.name}} - {{product.price}} EGP</p>
                </div>
              </a>
            </div>
            {% endfor %}

            <!-- <div class="col-lg-4 col-md-6">
              <a href="#" class="link-offset-2 link-underline link-underline-opacity-0 text-light">
                <div class="my-card">
                  <img src="{% static 'products/images/prod1.jpg' %}" class="card-img-top img-fluid" alt="product-img">
                  <p class="lead py-3">Product 1 - 599 EGP</p>
                </div>
              </a>
            </div> -->     

          </div>
        </div>
      </section>
</body>
</html>